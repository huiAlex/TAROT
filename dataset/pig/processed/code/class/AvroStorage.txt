avro storag schema pig output schema space recurs fals doubl colon doubl underscor fals schema log log factori log class udf context signatur org apach pig builtin avro storag output schema writer org apach pig builtin avro storag input schema reader split requir field list avro storag avro storag avro storag opt set context signatur signatur properti properti signatur schema locat job avro schema locat job avro schema job statist locat job partit key locat job set partit filter partit filter rel ab path store locat locat cur dir output format set store locat locat job check schema set output avro schema output avro schema prepar write put set store func context signatur signatur cleanup failur locat job set locat locat job set input avro schema input avro schema updat schema input avro schema input format prepar read cleanup success locat job featur push project rfl ship file creat instanc pig storag function specifi schema load data creat instanc pig storag function param specifi input output schema record creat instanc avro storag function specifi output schema properti param specifi input output schema record param opt option avro storag code namespac code namespac automat generat output schema code schemafil code specifi avro schema file read input schema local file hdfs url code schemaclass code specifi fulli qualifi class avro class classpath implement generic code examplefil code specifi avro data file copi input schema local file hdfs url code allowrecurs code option recurs schema definit default fals code doublecolon code option translat pig schema doubl colon doubl underscor default fals intern function properti object associ instanc return properti object associ instanc intern function properti object associ instanc param class param signatur signatur string return properti object associ instanc read avro schema specifi locat param locat locat file param job hadoop job object return avro schema object deriv specifi file throw read avro schema specifi locat param locat file param job hadoop job object return avro schema object deriv specifi file throw set output avro schema param avro schema util function output schema udf properti instanc store function return output schema associ set input avro schema param specifi schema helper function read input avro schema properti return input avro schema util function input avro schema udf properti updat schema instanc org apach pig load func input format pig read write avro data 