<Class>
    <Id>778</Id>
    <Package>org.apache.pig.impl.streaming</Package>
    <ClassName>StreamingUtil</ClassName>
    <SuperClass></SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment></ClassComment>
    <FieldList>
        <Field>
            <FieldName>LOG</FieldName>
            <FieldType>Log</FieldType>
        </Field>
        <Field>
            <FieldName>BASH</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>PATH</FieldName>
            <FieldType>String</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>createProcess</MethodName>
            <MethodComment>/** 
 * Create an external process for StreamingCommand command.
 * @param command
 * @return
 */
</MethodComment>
            <ReturnType>ProcessBuilder</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>command</ParamName>
                    <ParamType>StreamingCommand</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>List&lt;String&gt; [cmdArgs=new ArrayList&lt;String&gt;()]</InnerVar>
                <InnerVar>String[] [argv=command.getCommandArgs()]</InnerVar>
                <InnerVar>StringBuffer [argBuffer=new StringBuffer()]</InnerVar>
                <InnerVar>String [argvAsString=argBuffer.toString()]</InnerVar>
                <InnerVar>ProcessBuilder [processBuilder=new ProcessBuilder(cmdArgs.toArray(new String[cmdArgs.size()]))]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>null;setupEnvironment;[processBuilder]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>setupEnvironment</MethodName>
            <MethodComment>/** 
 * Set up the run-time environment of the managed process.
 * @param pb {@link ProcessBuilder} used to exec the process
 */
</MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>pb</ParamName>
                    <ParamType>ProcessBuilder</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>String [separator=":"]</InnerVar>
                <InnerVar>Configuration [conf=UDFContext.getUDFContext().getJobConf()]</InnerVar>
                <InnerVar>Map&lt;String,String&gt; [env=pb.environment()]</InnerVar>
                <InnerVar>File [dir=pb.directory()]</InnerVar>
                <InnerVar>String [cwd=(dir != null) ? dir.getAbsolutePath() : System.getProperty("user.dir")]</InnerVar>
                <InnerVar>String [envPath=env.get(PATH)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>null;addJobConfToEnvironment;[conf, env]</InnerMethodInvoke>
                <InnerMethodInvoke>env;put;[PATH, envPath]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>addJobConfToEnvironment</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>conf</ParamName>
                    <ParamType>Configuration</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>env</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>String [propsToSend=conf.get(PIG_STREAMING_ENVIRONMENT)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>LOG;debug;["Properties to ship to streaming environment set in " + PIG_STREAMING_ENVIRONMENT + ": "+ propsToSend]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>envPut</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>env</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>name</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>value</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>env;put;[name, value]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>