<Class>
    <Id>695</Id>
    <Package>org.apache.pig.piggybank.storage.avro</Package>
    <ClassName>PigAvroOutputFormat</ClassName>
    <SuperClass>FileOutputFormat</SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment>PigAvroOutputFormat  /** 
 * The OutputFormat for avro data.
 */
</ClassComment>
    <FieldList>
        <Field>
            <FieldName>EXT</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>DEFLATE_LEVEL_KEY</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>DEFAULT_DEFLATE_LEVEL</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>OUTPUT_CODEC</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>DEFLATE_CODEC</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>SYNC_INTERVAL_KEY</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>schema</FieldName>
            <FieldType>Schema</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>PigAvroOutputFormat</MethodName>
            <MethodComment>/** 
 * default constructor
 */
</MethodComment>
            <ReturnType></ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>PigAvroOutputFormat</MethodName>
            <MethodComment>/** 
 * construct with specified output schema
 * @param s             output schema
 */
</MethodComment>
            <ReturnType></ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>s</ParamName>
                    <ParamType>Schema</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>setDeflateLevel</MethodName>
            <MethodComment>/** 
 * Enable output compression using the deflate codec and specify its level.
 */
</MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>job</ParamName>
                    <ParamType>Job</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>level</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>FileOutputFormat;setCompressOutput;[job, true]</InnerMethodInvoke>
                <InnerMethodInvoke>job.getConfiguration();setInt;[DEFLATE_LEVEL_KEY, level]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getRecordWriter</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>NullWritable</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>context</ParamName>
                    <ParamType>TaskAttemptContext</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>Configuration [conf=context.getConfiguration()]</InnerVar>
                <InnerVar>DataFileWriter&lt;Object&gt; [writer=new DataFileWriter&lt;Object&gt;(new PigAvroDatumWriter(schema))]</InnerVar>
                <InnerVar>Path [path=getDefaultWorkFile(context,EXT)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>writer;setSyncInterval;[conf.getInt(SYNC_INTERVAL_KEY,Math.max(conf.getInt("io.file.buffer.size",DEFAULT_SYNC_INTERVAL),DEFAULT_SYNC_INTERVAL))]</InnerMethodInvoke>
                <InnerMethodInvoke>writer;create;[schema, path.getFileSystem(conf).create(path)]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>IOException</ExceptionType>
                <ExceptionType>InterruptedException</ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>