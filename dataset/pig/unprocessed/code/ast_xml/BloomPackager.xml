<Class>
    <Id>228</Id>
    <Package>org.apache.pig.backend.hadoop.executionengine.tez.plan.operator</Package>
    <ClassName>BloomPackager</ClassName>
    <SuperClass>Packager</SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment></ClassComment>
    <FieldList>
        <Field>
            <FieldName>serialVersionUID</FieldName>
            <FieldType>long</FieldType>
        </Field>
        <Field>
            <FieldName>bloomCreatedInMap</FieldName>
            <FieldType>boolean</FieldType>
        </Field>
        <Field>
            <FieldName>vectorSizeBytes</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>numHash</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>hashType</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>bloomKeyType</FieldName>
            <FieldType>byte</FieldType>
        </Field>
        <Field>
            <FieldName>isCombiner</FieldName>
            <FieldType>boolean</FieldType>
        </Field>
        <Field>
            <FieldName>baos</FieldName>
            <FieldType>ByteArrayOutputStream</FieldType>
        </Field>
        <Field>
            <FieldName>distinctKeyIter</FieldName>
            <FieldType>Iterator</FieldType>
        </Field>
        <Field>
            <FieldName>distinctKeyIter</FieldName>
            <FieldType>Object</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>BloomPackager</MethodName>
            <MethodComment></MethodComment>
            <ReturnType></ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>bloomCreatedInMap</ParamName>
                    <ParamType>boolean</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>vectorSizeBytes</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>numHash</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>hashType</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>setBloomKeyType</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>keyType</ParamName>
                    <ParamType>byte</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>setCombiner</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>isCombiner</ParamName>
                    <ParamType>boolean</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>attachInput</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>key</ParamName>
                    <ParamType>Object</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>bags</ParamName>
                    <ParamType>DataBag[]</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>readOnce</ParamName>
                    <ParamType>boolean[]</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>ExecException</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getNext</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>Result</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>ExecException</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>combineBloomFilters</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>Result</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar>Iterator&lt;Tuple&gt; [iter=bags[0].iterator()]</InnerVar>
                <InnerVar>Tuple [tup=iter.next()]</InnerVar>
                <InnerVar>DataByteArray [bloomBytes=(DataByteArray)tup.get(0)]</InnerVar>
                <InnerVar>BloomFilter [bloomFilter=BuildBloomBase.bloomIn(bloomBytes)]</InnerVar>
                <InnerVar>Object [partition=key]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>null;detachInput;[]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>IOException</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>createBloomFilter</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>Result</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar>HashSet&lt;Object&gt; [bloomKeys=new HashSet&lt;&gt;()]</InnerVar>
                <InnerVar>Iterator&lt;Tuple&gt; [iter=bags[0].iterator()]</InnerVar>
                <InnerVar>Object [partition=key]</InnerVar>
                <InnerVar>BloomFilter [bloomFilter=new BloomFilter(vectorSizeBytes * 8,numHash,hashType)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>null;detachInput;[]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>IOException</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getSerializedBloomFilter</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>Result</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>partition</ParamName>
                    <ParamType>Object</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>bloomFilter</ParamName>
                    <ParamType>BloomFilter</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>serializedSize</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>DataOutputStream [dos=new DataOutputStream(baos)]</InnerVar>
                <InnerVar>Tuple [res=mTupleFactory.newTuple(2)]</InnerVar>
                <InnerVar>Result [r=new Result()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>baos;reset;[]</InnerMethodInvoke>
                <InnerMethodInvoke>bloomFilter;write;[dos]</InnerMethodInvoke>
                <InnerMethodInvoke>dos;flush;[]</InnerMethodInvoke>
                <InnerMethodInvoke>res;set;[0, partition]</InnerMethodInvoke>
                <InnerMethodInvoke>res;set;[1, new DataByteArray(baos.toByteArray())]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>ExecException</ExceptionType>
                <ExceptionType>IOException</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getDistinctBloomKeys</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>Result</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>ExecException</ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>