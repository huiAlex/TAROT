<Class>
    <Id>257</Id>
    <Package>edu.ncsu.csc.itrust.serverutils</Package>
    <ClassName>ProfilePhotoServletTest</ClassName>
    <SuperClass>TestCase</SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment>ProfilePhotoServletTest  /** 
 * @author andy
 */
</ClassComment>
    <FieldList>
        <Field>
            <FieldName>ctrl</FieldName>
            <FieldType>IMocksControl</FieldType>
        </Field>
        <Field>
            <FieldName>req</FieldName>
            <FieldType>HttpServletRequest</FieldType>
        </Field>
        <Field>
            <FieldName>resp</FieldName>
            <FieldType>HttpServletResponse</FieldType>
        </Field>
        <Field>
            <FieldName>session</FieldName>
            <FieldType>HttpSession</FieldType>
        </Field>
        <Field>
            <FieldName>mockDAOFactory</FieldName>
            <FieldType>DAOFactory</FieldType>
        </Field>
        <Field>
            <FieldName>mockDAO</FieldName>
            <FieldType>ProfilePhotoDAO</FieldType>
        </Field>
        <Field>
            <FieldName>serialVersionUID</FieldName>
            <FieldType>long</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>setUp</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <ParameterType></ParameterType>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>Exception</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>testProfileServlet</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <ParameterType></ParameterType>
            </ParameterList>
            <InnerVarList>
                <InnerVar>LittleDelegatorServlet [servlet=new LittleDelegatorServlet()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>servlet;setDaoFactory;[mockDAOFactory]</InnerMethodInvoke>
                <InnerMethodInvoke>resp;setContentType;["image/jpg"]</InnerMethodInvoke>
                <InnerMethodInvoke>expectLastCall();once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(req.getSession()).andReturn(session);once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(session.getAttribute("pid")).andReturn("2");once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(mockDAOFactory.getProfilePhotoDAO()).andReturn(mockDAO);once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(mockDAO.get(2L));andReturn;[new BufferedImage(200,200,BufferedImage.TYPE_INT_ARGB)]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(resp.getOutputStream());andReturn;[new ServletOutputStream(){
  @Override public void write(  int b) throws IOException {
  }
}
]</InnerMethodInvoke>
                <InnerMethodInvoke>ctrl;replay;[]</InnerMethodInvoke>
                <InnerMethodInvoke>servlet;doGet;[req, resp]</InnerMethodInvoke>
                <InnerMethodInvoke>ctrl;verify;[]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>Exception</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>write</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <ParameterType>int b</ParameterType>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>IOException</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>testServletException</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <ParameterType></ParameterType>
            </ParameterList>
            <InnerVarList>
                <InnerVar>LittleDelegatorServlet [servlet=new LittleDelegatorServlet()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>resp;setContentType;["image/jpg"]</InnerMethodInvoke>
                <InnerMethodInvoke>expectLastCall();once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(req.getSession()).andReturn(session);once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>expect(session.getAttribute("pid")).andReturn("2");once;[]</InnerMethodInvoke>
                <InnerMethodInvoke>ctrl;replay;[]</InnerMethodInvoke>
                <InnerMethodInvoke>servlet;doGet;[req, resp]</InnerMethodInvoke>
                <InnerMethodInvoke>ctrl;verify;[]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>Exception</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>doGet</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <ParameterType>HttpServletRequest req</ParameterType>
                <ParameterType>HttpServletResponse resp</ParameterType>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>ServletException</ExceptionType>
                <ExceptionType>IOException</ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>