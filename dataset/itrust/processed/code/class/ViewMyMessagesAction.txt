view messag action log patient personnel messag referr view messag action factori log messag messag time ascend messag ascend messag descend messag messag time ascend messag ascend messag descend valid creat filter filter filter messag messag filter mid personnel mid set read bean unread count link referr set default param factori factori creat action param log user view messag messag log user return list user messag throw except messag log user sort ascend time return list user messag throw except messag log user sort name ascend order return list user messag throw except messag log user sort descend order return list user messag throw except messag log user return list user messag throw except messag log user sort ascend time return list user messag throw except messag log user sort name ascend order return list user messag throw except messag log user sort descend order return list user messag throw except list messag user base filter criteria param messag list user messag bean param filter string user filter criteria return list messag bean meet criteria filter throw trust except throw pars except patient param mid patient return patient throw trust except personnel param mid personnel return personnel throw trust except set state messag bean read read user param bean messag bean read number unread messag current user return number unread messag throw except action class view messag jsp 