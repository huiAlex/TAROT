total order manag log log factori log total order manag class trace log trace enabl key lock state transfer progress total order executor total order manag inject total order executor ensur order state key modifi releas state notifi state transfer start topolog rebal notifi state transfer ani lock acquir ensur valid order transact correspond prepar command prepar command move thread pool param state total order prepar state releas lock key possibl unblock wait prepar param state state notifi state transfer start param topolog topolog return current pend prepar notifi state transfer possibl unblock wait prepar class behav synchron point incom transact total order incom transact state transfer main function ensur order prepar befor send thread pool conflict prepar process concurr ensur state transfer wait previous deliv prepar ensur prepar wait state transfer progress author pedro ruivo sinc 