Scenario: use eager locking with lockSingleNode=true. Start a transaction and kill a node where a lock is acquired. Then commit the transaction using JBossTM. As there s only one transaction enlisted, JBossTM optimizes the 2PC and only invokes TransactionXAAdaptr.commit with onePhase flag set to true. Right now this call results in an exception that leaves the cluster with locks being acquired. Instead of this, infinispan should rollback the transaction and throw an exception(XA_HEURRB?) that would be propagated to the user as well.
