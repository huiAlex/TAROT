At the moment the InvocationContext keeps the looked up entries in an BidirectionalLinkedHashMap. It uses the BidirectionalLinkedHashMap in order to commit the entries in the reversed order in which they were added to the context. This is an inherited feature from JBossCache, where it made sense due to cache s tree structure. It doesn t make sense in Infinispan though, and it adds an unnecessary burden to the InvocationContext.
The problem is particularly performance costly in the case of non-tx caches, where most of the operations only need a single entry lookup to be held in the invocation context.
