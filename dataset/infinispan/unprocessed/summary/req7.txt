Redesign marshallers to be per named cache instance, per thread
Since we have switched to explicit classloaders in Infinispan 5.0, we can now pass the correct classloader to use into JBoss Marshalling, rather than rely on the TCCL. However at the moment marshallers are per thread, not per named cache instance. We will need to change the way marshallers are created to make a marshaller per-thread-per-named-cache-instance. This will also require investigation of the best way of propagating this through the DI system. Dan has previously suggested using the InvocationContext
