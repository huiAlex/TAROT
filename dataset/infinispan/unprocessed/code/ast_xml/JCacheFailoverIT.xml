<Class>
    <Id>161</Id>
    <Package>org.infinispan.all.remote.jcache</Package>
    <ClassName>JCacheFailoverIT</ClassName>
    <SuperClass></SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment>JCacheFailoverIT  /** 
 * Tests for failover of JCache remote listeners
 * @author gustavonalle
 * @since 8.0
 */
</ClassComment>
    <FieldList>
        <Field>
            <FieldName>CONTAINER1</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>CONTAINER2</FieldName>
            <FieldType>String</FieldType>
        </Field>
        <Field>
            <FieldName>controller</FieldName>
            <FieldType>ContainerController</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>createConfigurationWith</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>String</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>listener</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>createCacheManagerWithTimeoutInMillis</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>CacheManager</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>timeout</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>Properties [properties=new Properties()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>properties;put;[ConfigurationProperties.SO_TIMEOUT, String.valueOf(timeout)]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>testRemoteListener</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar>TrackingCacheEntryListener&lt;String,String&gt; [listener=new TrackingCacheEntryListener&lt;&gt;()]</InnerVar>
                <InnerVar>MutableConfiguration&lt;String,String&gt; [configuration=createConfigurationWith(listener)]</InnerVar>
                <InnerVar>CacheManager [cm=createCacheManagerWithTimeoutInMillis(3000)]</InnerVar>
                <InnerVar>Cache&lt;String,String&gt; [cache=cm.createCache("default",configuration)]</InnerVar>
                <InnerVar>int [beforeFailOver=listener.getCreated()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>controller;start;[CONTAINER1]</InnerMethodInvoke>
                <InnerMethodInvoke>null;assertTrue;[controller.isStarted(CONTAINER1)]</InnerMethodInvoke>
                <InnerMethodInvoke>cache;put;["1", "value1"]</InnerMethodInvoke>
                <InnerMethodInvoke>null;assertEquals;[1, listener.getCreated()]</InnerMethodInvoke>
                <InnerMethodInvoke>controller;start;[CONTAINER2]</InnerMethodInvoke>
                <InnerMethodInvoke>null;assertTrue;[controller.isStarted(CONTAINER2)]</InnerMethodInvoke>
                <InnerMethodInvoke>cache;put;["2", "value2"]</InnerMethodInvoke>
                <InnerMethodInvoke>null;assertEquals;[2, listener.getCreated()]</InnerMethodInvoke>
                <InnerMethodInvoke>controller;kill;[CONTAINER1]</InnerMethodInvoke>
                <InnerMethodInvoke>cache;put;["3", "value3"]</InnerMethodInvoke>
                <InnerMethodInvoke>cache;put;["4", "value4"]</InnerMethodInvoke>
                <InnerMethodInvoke>cache;put;["5", "value5"]</InnerMethodInvoke>
                <InnerMethodInvoke>null;assertTrue;[listener.getCreated() &gt; beforeFailOver]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>