<Class>
    <Id>3609</Id>
    <Package>org.infinispan.commons.marshall</Package>
    <ClassName>AdaptiveBufferSizePredictor</ClassName>
    <SuperClass></SuperClass>
    <SuperInterfaceList>
        <SuperInterface>BufferSizePredictor</SuperInterface>
    </SuperInterfaceList>
    <ClassComment>AdaptiveBufferSizePredictor  /** 
 * The  {@link BufferSizePredictor} that automatically increases anddecreases the predicted buffer size on feed back. &lt;p&gt; It gradually increases the expected number of bytes if the previous buffer fully filled the allocated buffer.  It gradually decreases the expected number of bytes if the read operation was not able to fill a certain amount of the allocated buffer two times consecutively.  Otherwise, it keeps returning the same prediction. TODO: Object type hints could be useful at giving more type-specific predictions
 * @author &lt;a href="http://gleamynode.net/"&gt;Trustin Lee&lt;/a&gt;
 * @author Galder Zamarre√±o
 * @since 5.0
 */
</ClassComment>
    <FieldList>
        <Field>
            <FieldName>log</FieldName>
            <FieldType>Log</FieldType>
        </Field>
        <Field>
            <FieldName>isTrace</FieldName>
            <FieldType>boolean</FieldType>
        </Field>
        <Field>
            <FieldName>DEFAULT_MINIMUM</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>DEFAULT_INITIAL</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>DEFAULT_MAXIMUM</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>INDEX_INCREMENT</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>INDEX_DECREMENT</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>SIZE_TABLE</FieldName>
            <FieldType>int[]</FieldType>
        </Field>
        <Field>
            <FieldName>minIndex</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>maxIndex</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>index</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>nextBufferSize</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>decreaseNow</FieldName>
            <FieldType>boolean</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>getSizeTableIndex</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>int</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>size</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>int [bits=0]</InnerVar>
                <InnerVar>int [v=size]</InnerVar>
                <InnerVar>int [baseIdx=bits &lt;&lt; 3]</InnerVar>
                <InnerVar>int [startIdx=baseIdx - 18]</InnerVar>
                <InnerVar>int [endIdx=baseIdx - 25]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>AdaptiveBufferSizePredictor</MethodName>
            <MethodComment>/** 
 * Creates a new predictor with the default parameters.  With the default parameters, the expected buffer size starts from  {@code 512}, does not go down below  {@code 16}, and does not go up above  {@code 65536}.
 */
</MethodComment>
            <ReturnType></ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>AdaptiveBufferSizePredictor</MethodName>
            <MethodComment>/** 
 * Creates a new predictor with the specified parameters.
 * @param minimum  the inclusive lower bound of the expected buffer size
 * @param initial  the initial buffer size when no feed back was received
 * @param maximum  the inclusive upper bound of the expected buffer size
 */
</MethodComment>
            <ReturnType></ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>minimum</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>initial</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>maximum</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>int [minIndex=getSizeTableIndex(minimum)]</InnerVar>
                <InnerVar>int [maxIndex=getSizeTableIndex(maximum)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>nextSize</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>int</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>obj</ParamName>
                    <ParamType>Object</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>recordSize</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>previousSize</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>