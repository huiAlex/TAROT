<Class>
    <Id>1949</Id>
    <Package>org.infinispan.query.clustered</Package>
    <ClassName>ClusteredQueryInvoker</ClassName>
    <SuperClass></SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment>ClusteredQueryInvoker  /** 
 * Invoke a ClusteredQueryCommand on the cluster, including on own node.
 * @author Israel Lacerra &lt;israeldl@gmail.com&gt;
 * @author Sanne Grinovero &lt;sanne@infinispan.org&gt; (C) 2011 Red Hat Inc.
 * @since 5.1
 */
</ClassComment>
    <FieldList>
        <Field>
            <FieldName>rpcManager</FieldName>
            <FieldType>RpcManager</FieldType>
        </Field>
        <Field>
            <FieldName>localCacheInstance</FieldName>
            <FieldType>Cache</FieldType>
        </Field>
        <Field>
            <FieldName>localCacheInstance</FieldName>
            <FieldType>?</FieldType>
        </Field>
        <Field>
            <FieldName>myAddress</FieldName>
            <FieldType>Address</FieldType>
        </Field>
        <Field>
            <FieldName>asyncExecutor</FieldName>
            <FieldType>ExecutorService</FieldType>
        </Field>
        <Field>
            <FieldName>rpcOptions</FieldName>
            <FieldType>RpcOptions</FieldType>
        </Field>
        <Field>
            <FieldName>clusteredQuery</FieldName>
            <FieldType>ClusteredQueryCommand</FieldType>
        </Field>
        <Field>
            <FieldName>localInstance</FieldName>
            <FieldType>Cache</FieldType>
        </Field>
        <Field>
            <FieldName>localInstance</FieldName>
            <FieldType>?</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>ClusteredQueryInvoker</MethodName>
            <MethodComment></MethodComment>
            <ReturnType></ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>localCacheInstance</ParamName>
                    <ParamType>?</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>asyncExecutor</ParamName>
                    <ParamType>ExecutorService</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getValue</MethodName>
            <MethodComment>/** 
 * Retrieves the value (using doc index) in a remote query instance
 * @param doc Doc index of the value on remote query
 * @param address Address of the node who has the value
 * @param queryId Id of the query
 * @return The value of index doc of the query with queryId on node at address
 */
</MethodComment>
            <ReturnType>Object</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>doc</ParamName>
                    <ParamType>int</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>address</ParamName>
                    <ParamType>Address</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>queryId</ParamName>
                    <ParamType>UUID</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>ClusteredQueryCommand [clusteredQuery=ClusteredQueryCommand.retrieveKeyFromLazyQuery(localCacheInstance,queryId,doc)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>broadcast</MethodName>
            <MethodComment>/** 
 * Broadcast this ClusteredQueryCommand to all cluster nodes. The command will be also invoked on local node.
 * @param clusteredQuery
 * @return A list with all responses
 */
</MethodComment>
            <ReturnType>QueryResponse</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>clusteredQuery</ParamName>
                    <ParamType>ClusteredQueryCommand</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>Future&lt;QueryResponse&gt; [localResponse=localInvoke(clusteredQuery)]</InnerVar>
                <InnerVar>Map&lt;Address,Response&gt; [responses=rpcManager.invokeRemotely(null,clusteredQuery,rpcOptions)]</InnerVar>
                <InnerVar>List&lt;QueryResponse&gt; [objects=cast(responses)]</InnerVar>
                <InnerVar>QueryResponse [localReturnValue]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>objects;add;[localReturnValue]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>localInvoke</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>QueryResponse</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>clusteredQuery</ParamName>
                    <ParamType>ClusteredQueryCommand</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>ClusteredQueryCallable [clusteredQueryCallable=new ClusteredQueryCallable(clusteredQuery,localCacheInstance)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>cast</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>QueryResponse</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>responses</ParamName>
                    <ParamType>Address</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>List&lt;QueryResponse&gt; [objects=new LinkedList&lt;QueryResponse&gt;()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>ClusteredQueryCallable</MethodName>
            <MethodComment></MethodComment>
            <ReturnType></ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>clusteredQuery</ParamName>
                    <ParamType>ClusteredQueryCommand</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>localInstance</ParamName>
                    <ParamType>?</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>call</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>QueryResponse</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>Exception</ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>