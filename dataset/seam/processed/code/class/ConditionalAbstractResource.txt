condit abstract resourc modifi modifi sinc tag match log log log provid condit abstract resourc class send condit request respons entiti tag modifi match condit valid match header entiti tag modifi sinc condit valid modifi sinc header modifi modifi timestamp resourc path creat entiti tag hash sourc weak creat entiti tag hash sourc weak hash text charset algorithm hash byte algorithm valid request header modifi sinc match determin respons send case method automat send respons return true condit valid fail chang respons return fals note entiti tag modifi argument null valid procedur outcom depend client request client requir entiti tag modif timestamp valid argument suppli method match respons send addit respond condit match method argument null send entiti tag modif timestamp respons futur request client condit param request usual http servlet request header retriev param respons usual http servlet respons header manipul param entiti tag entiti tag weak strong doublequot typic produc hash content resourc represent null entiti tag send valid request client match respons possibl param modifi timestamp number millisecond sinc unix epoch resourc modifi null modif timestamp send valid request client match respons possibl return true respons status set fals request condit invalid current state resourc throw set respons status fail tri modif timestamp resourc obtain connect file filesystem param resourc path relat servlet resourc path return modifi filestamp error occur system startup timestamp generat global uniqu identifi current state resourc string hash hash result format befor return null null return param hash sourc string sourc hash alreadi hash strong weak entiti tag param weak set true weak entiti tag return hash format entiti tag result generat global uniqu identifi current state resourc byte hash hash result format befor return null null return param hash sourc string sourc hash param weak set true weak entiti tag return hash format entiti tag result subclass resourc abl send respons automat ani condit request typic usecas follow pre public class resourc extend condit abstract resourc public void resourc final http servlet request request final http servlet respons respons string resourc version calcul current state string byte resourc version calcul current state byte string resourc path relat servlet path request resourc send condit request respons creat entiti tag resourc version fals modifi timestamp resourc path send regular resourc represent pre note modifi timestamp method onli suppli conveni return expect modif timestamp resourc mani case calcul timestamp author christian bauer 