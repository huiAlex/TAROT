tree control scratch templat insert row lock tree control reclaim delet row open btree pageno start xact dosplit attempt reclaim delet row leaf pageno scratch templat row insert flag compar previous record slot leaf row row compar record slot leaf row row compar row insert origin row row leaf slot compar left sibl row insert insert slot targetleaf row insert load insert row insert leaf insert slot load split row insert leaf init xact manag hold rawtran open mode lock level btree lock polici conglomer undo static info dynam info close close transact close held scan insert row key tabl properti prop intern tabl properti set prop load xact manag creat conglom row sourc delet loc fetch loc row valid column fetch loc row valid column wait lock insert fetch locat row templat row locat row locat templat lock row loc lock oper wait lock durat lock row page num record lock oper wait lock durat unlock row read loc updat row qualifi replac loc row valid column attempt reclaim commit delet row page exclus latch page loop page search delet row commit routin assum call transact delet ani row page delet row page attempt exclus lock delet row succeed sinc row delet row row delet transact commit safe purg row purg row page note routin remov row page attempt merg situat becaus routin call split attempt insert page wast merg page onli split insert row caus split return true row purg true routin leav page latch caller releas latch commit abort transact latch held transact insur space page remain avail undo purg param open btree alreadi open btree latch page param pageno page number leaf attempt reclaim standard standard polici start intern transact split routin start transact handl ani error dure transact transat obtain ani lock conflict current user transact attempt reclaim delet row true routin attempt reclaim space leaf page input purg commit delet row leaf succeed purg row commit intern transact return actual perform split param scratch templat scratch templat search page param row insert row insert dure split room row standard standard polici compar oldrow slot left slot slot move left sibil leaf compar record slot param slot slot number start param leaf leaf control row current page param row data valu descriptot array fill fetch valu return duplic duplic rescan requir throw standard compar record slot slot slot page move sibl leaf compar record slot param slot slot number start param leaf leaf control row current page param row data valu descriptot array fill fetch valu return duplic duplic rescan requir throw standard compar row insert row equal link return otherwis tri lock row tree lock obtain wait link return row delet otherwis link return indic latch releas tree rescan code return caller check row delet move check adjac row delet duplic row code code return transact hold updat lock specifi record method return note method onli call index uniqu uniqu index uniqu constraint param origin row row tree param row row insert param leaf leaf origin row resid param slot slot origin row return code duplic code duplic code tree rescan compar immidi left record check duplic method compar record insert record immid left postion duplic onli uniqu index null key param row insert row insert param insert slot slot row insert insert param targetleaf page row insert return duplic duplic rescan requir throw standard insert row conglomer param row insert row insert conglomer store represent row column copi row somewher conglomer return return insert succeed return conglomer control conglomer support uniqu check creat disallow duplic row insert key column duplic row alreadi tabl insert failur rais standard standard standard polici insert row current page slot fit standard standard polici creat room insert row largest key tabl perform split pass tree move largest key leaf leaf split parent branch page necessari standard standard polici initi control ani chang method probabl reflect close current deleg open tree btree control ani state remov method dispatch open tree gain small effici method remain clariti standard standard polici close conglomer control ani chang method probabl reflect close current deleg open tree btree control ani state remov method dispatch open tree gain small effici method remain clariti conglomer control close close conglomer control part termin transact call close conglomer control resourc part commit abort transact normal close routin cleanup unnecessari correct due unknown condit control follow transact error call close control part abort transact call meant onli intern storag system client storag system simpl close interfac mikem move call conglomer manag obvious access client call param close held scan true close control open open commit close control abort return boolean indic close result real close control held scan return fals call close transact fals otherwis return true held scan alway return true standard standard polici insert row conglomer conglomer control insert param row row insert conglomer store represent row column copi row somewher conglomer return return insert succeed return conglomer control conglomer support uniqu check creat disallow duplic row insert key column duplic row alreadi tabl insert failur rais standard standard standard polici return key conglomer tree key conglomer control key request system properti associ tabl request valu properti associ tabl follow properti request derbi storag page size derbi storag page reserv space derbi storag minimum record size derbi storag initi page valu properti add properti list return valu properti set current valu exampl prop conglomer control properti prop properti prop put derbi storag page size tabl properti prop system println tabl page size prop properti derbi storag page size param prop properti list fill standard standard polici request set properti associ tabl return properti object properti store store persist store set properti vari implement implement store call meant onli intern queri properti jbms instanc languag dure bulk insert creat conglomer exact match properti origin creat call user interfac present properti user properti meant intern jbms properti meant onli specifi jbms code user command line note properti pass creat conglomer store persist set vari store implement param prop properti list add properti null routin creat properti object fill return standard standard polici load row row sourc open btree effici load row alreadi open btree btree tabl lock row lock request routin exit routin conglomer close error success routin doe bottom build btree assum row arriv sort order insert direct spot current leaf space call generic split code add leaf futur optim split bottom top creat index standard standard polici conglomer support uniqu check creat disallow duplic row load key column duplic row alreadi conglomer rais state org apach derbi iapi store access conglomer conglomer load delet row conglomer conglomer control delet standard standard polici fetch row locat conglomer control fetch standard standard polici fetch row locat conglomer control fetch standard standard polici insert row conglomer store locat provid templat row locat unimpl btree conglomer control insert fetch locat standard standard polici return row locat object correct type call insert fetch locat conglomer control row locat templat standard standard polici lock row locat onli call access call conglomer control open lock onli mikem move call conglomer manag obvious access client call return true lock grant onli fals wait fals param loc row locat describ exact row lock param wait lock call wait grant standard standard polici replac entir row locat conglomer control replac standard standard polici tree control correspond instanc open tree conglomer concurr note concurr rule deriv open tree open tree 