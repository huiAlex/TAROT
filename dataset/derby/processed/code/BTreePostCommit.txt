tree post commit access factori page number handl btree tree post commit access factori btree input page number servic servic immedi shrink open btree shrink row open index intern xact lock level lock mode perform work context mgr shrink key open btree control row slot purg commit delet open btree pageno purg row level commit delet open btree urgenc post commit work determin servic put post commit queue post commit work btree safe delay user work return fals work servic open index tabl level row level updat param lock level tabl level transact manag row level transact manag param lock mode tabl level lock polici row level lock polici standard standard polici perform work describ postcommit work implement onli work execut post commit processor class return return servic work complet return servic work requeu param context mgr context manag start post commit daemon standard standard polici reclaim space commit delet row routin assum call intern transact perform work exclus tabl lock assumpt ani delet row encount commit transact otherwis exclus tabl lock routin handl purg commit delet hold tabl level exclus lock purg row level commit delet row level purg param open btree btree alreadi open param pageno page number page commit delet standard standard polici attempt reclaim commit delet row page row lock exclus latch page loop page search delet row commit routin call onli post commit process row delet current transact delet row page attempt exclus lock delet row succeed sinc transact delet row row delet transact commit safe purg row purg row page latch leaf page purg row transact commit abort order insur proper undo purg place otherwis anoth transact space freed purg prevent purg abl undo param open btree alreadi open btree lock tabl lock latch page standard standard polici tree post commit class implement servic protocol role servic object store state necessari find page btree commit delet reclaim role post commit processor page describ reclaim space btree trys clean ani delet commit page shrink tree delet row page 