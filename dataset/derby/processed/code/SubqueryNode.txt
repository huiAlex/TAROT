subqueri node result set subqueri type top node preprocess distinct express subqueri left operand push predic subqueri fals parent comparison oper true node subqueri number point attach correl correl check variant invari check order list offset fetch climit claus subqueri node result set subqueri type left operand order col offset fetch climit claus string print node depth result set subqueri type set subqueri type subqueri type set point attach point attach top node point attach preprocess set parent comparison oper parent refer session schema remap column refer express bind express list subqueri list aggreg preprocess num tabl outer list outer subqueri list outer predic list singl base tabl list operand flatten exist num tabl fbt flatten flatten normal join num tabl outer list outer subqueri list outer predic list flatten exist join num tabl outer list outer subqueri list outer predic list flatten exist operand invari correl push predic num tabl join condit left operand operand elimin node chang top node categor referenc tab simpl pred onli materializ optim data dictionari outer row modifi access path order variant type generat express express builder mbex generat materi acb mbsq type true node accept children chang correspond express type set data type servic result column equival subqueri set subqueri subqueri subqueri set subqueri subqueri exist ani subqueri order list offset fetch climit claus constructor param result set result set node subqueri param subqueri type type subqueri param left operand left operand ani subqueri param order col list param offset param fetch param climit claus true offset fetch claus limit offset escap syntax param context manag convert object string comment queri tree node java tree print return object string print node object queri tree node java tree print suppos work param depth depth node tree return result set subqueri node return result set node subqueri node return type subqueri return int type subqueri set type subqueri param subqueri type subqueri set point attach subqueri param point attach point attach subqueri standard thrown error return subqueri immedi top level node return boolean subqueri immedi top level node result set point attach subqueri node return int result set point attach subqueri node alreadi preprocess return subqueri node alreadi preprocess set parent consid flatten express subqueri param parent parent remap column refer tree clone express return valu node remap express tree standard thrown error bind express bind express figur return type express param list list queri express bind column list null subqueri claus param subqueri list subqueri list built find subqueri node param aggreg aggreg list built find aggreg node return top express tree standard thrown error preprocess express tree number transform includ subqueri list subqueri flatten befor outer result set node preprocess param num tabl number tabl statement param outer list list outer queri block param outer subqueri list subqueri list outer queri block param outer predic list predic list outer queri block return modifi express standard thrown error doe list subqueri singl entri param list list subqueri return code base tabl list subqueri singl entri code null subqueri doe singl check operand form possibl flatten queri join don flatten operand doesn refer base tabl subqueri requir ad part problem operand referenc base tabl subqueri join condit filter row side outer tabl join join join condit onli safe appli left side tabl join otherwis filter interest row earli queri exampl pre code code pre operand join condit code flatten join condit direct outer tabl hide row code onli row interest join condit onli tabl join logic correct join condit refer tabl condit direct outer tabl safe flatten queri param num tabl number tabl statement param fbt onli code base tabl subqueri return code true flatten queri join code fals otherwis faltten join flatten doesn easili sens side comparison nullabl beetl return subqueri flatten flatten subqueri outer queri block point onli flatten base uniqu condit onli flatten aggreg subqueri promot subqueri list outer list subqueri return otherwis return comparison left operand express subqueri list modifi logic account exist join aggreg support flatten remov ourself outer subqueri list decrement nest level tabl subqueri tree append subqueri list outer list add subqueri predic list outer predic list subqueri alreadi preprocess add subqueri subqueri list outer subqueri list return true otherwis return comparison left operand express select param num tabl number tabl statement param outer list list outer queri block param outer subqueri list subqueri list outer queri block param outer predic list predic list outer queri block return modifi express standard thrown error flatten subqueri outer queri block exist join point onli flatten aggreg subqueri singl list transform list exist base tabl updat depend list tabl flatten subqueri modifi logic account aggreg support flatten param num tabl number tabl statement param outer list list outer queri block param outer subqueri list subqueri list outer queri block param outer predic list predic list outer queri block param flatten exist flatten join return modifi express standard thrown error node operand join condit subqueri flatten join return operand check variant valu return true cach result multipl call return boolean standard thrown error check subqueri correl column refer onli result call bind bound return subqueri correl column refer standard thrown error transform express quantifi oper select select true express binari comparison oper aggreg select true select express binari comparison oper subqueri generat abov subqueri node return top tree caller oper predic ad subqueri correspond oper modifi subqueri generat abov subqueri node return top tree caller oper predic ad subqueri binari oper node bco node type correspond negat oper modifi method call subqueri preprocess build predic express param num tabl number tabl statement return unari comparison oper node abov transform subqueri standard thrown error build join condit left operand operand comparison oper depend subqueri type param left operand left operand condit param operand operand condit standard thrown error elimin node current queri block travers tree invert elimin stop comparison oper boolean express invert comparison oper replac boolean express boolean express fals sinc recurs comparison oper node left tree param node node return modifi express standard thrown error finish put express conjunct normal form express tree conjunct normal form meet follow criteria express tree null top level chain node termin true boolean constant node left child node node ani link chain includ node entir compos node termin true boolean constant node left child node node ani link chain includ node entir compos node termin fals boolean constant node valu node node node consid leaf node purpos express normal word won ani normal node addit track top level node subqueri node subqueri flatten param top node top level node return modifi express standard thrown error categor predic initi build bit map referenc tabl predic sourc column refer level column refer virtual column node predic push exampl select select push easi handl case constant return arbitrari express copi tree push predic tree subqueri method call revisit issu onc view param referenc tab bit set bit map referenc tabl return boolean sourc express column refer virtual column node standard thrown error optim subqueri node param data dictionari data dictionari optim param outer row optim estim number time subqueri execut standard thrown error ani chang access path decid optim standard thrown error return variant type express variant type variant scan method call static field access invari scan column refer outer tabl invari life queri constant express return variant type express standard thrown error code generat subqueri param express builder express class builder class built param mbex method express standard thrown error accept visitor visit children node param visitor standard error convert subqueri return row equival express subqueri standard thrown error inherit doc subqueri part claus return true part claus otherwis fals mark subqueri part claus param subqueri subqueri part whereclaus return true part claus otherwis fals mark subqueri part claus param subqueri check subqueri subqueri claus flatten decis report wrong result nest accord derbi optim doc appli broader rang claus subqueri subqueri anoht subqueri claus flatten return true subqueri subqueri subqueri claus list construct onli subqueri node transient return order list specifi els null construct onli subqueri node transient return offset specifi els null construct onli subqueri node transient return fetch specifi els null return true offset fetch claus ad escap syntax method construct onli subqueri node transient return true limit offset semant standard semant appli subqueri node repres subqueri subqueri return valu outer queri quantifi subqueri quantifi oper quantifi subqueri return valu invoc express subqueri direct quantifi oper express subqueri return valu invoc return valu consid equival return larg number subqueri type becaus larg number type larg amount share code decid subqueri node ani subclass subqueri type oper encod subqueri type field queri optim respons optim subqueri transform code generat optim elimin subqueri transform join chang intern form subqueri exampl transform select select true note aggreg present addit issu transform express treat special express aggreg chang true 