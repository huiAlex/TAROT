tree scan init rawtran init updat init scan column list init templat init start key valu init start search oper init qualifi init stop key valu init stop search oper init hold init fetch desc init lock fetch desc scan posit init updat lock fals scan state stat numpag visit stat numrow visit stat numrow qualifi stat numdelet row visit lock oper fetch slot array data valu descriptor tree scan fetch row pos row array rowloc array hash tabl max rowcnt key column number init scan param start key valu start search oper qualifi stop key valu stop search oper posit start scan pos posit page pos posit previous page empti page posit start posit pos posit scan close pos posit scan pos process qualifi row reposit pos row key init xact manag rawtran hold open mode lock level btree lock polici scan column list start key valu start search oper qualifi stop key valu stop search oper conglomer undo static info dynam info close delet qualifi doe current posit qualifi fetch row qualifi held commit fetch row fetch qualifi row scan info current posit delet key posit row locat loc fetch row fetch group row array rowloc array fetch group row array rowloc array rowloc array fetch set max rowcnt key column number hash tabl reopen scan start key valu start search oper qualifi stop key valu stop search oper reopen scan row locat start row locat qualifi fetch locat templat locat row locat templat replac row valid column close transact close held scan save posit releas page partial key vcol save posit releas page current record handl debug string fetch row tabl util routin fetch set fetch group standard standard polici share initi code init reopen scan basic save input paramet describ qualif scan error check standard standard polici posit scan start posit scan posit scan slot befor record return scan return start page latch set current slot slot number standard standard polici posit scan slot page posit page latch previous page latch page routin releas latch current page onc success latch page param pos current row posit scan standard standard polici posit scan row previous page hold latch current page previous page latch immedi left sibl empti move empti page leav latch current page held empti left sibl page method wait latch wait latch hold anoth latch onli move tree wait move result deadlock scanner code wait error thrown previous page latch wait code scan posit current leaf point page befor method call case code wait error thrown page latch throw standard standard polici throw wait error previous page latch immedi check tree page empti control row alway present count param page tree page check return true page empti fals otherwis throw standard standard polici posit scan start posit posit scan slot befor record return scan return start page latch set current slot slot number standard standard polici ani necessari work complet scan param pos current row posit scan standard standard polici work necessari close scan routin onli call inlin btree routin count state pos correct close scan close handl long jump state pos correct easiest case lock timeout caus latch page pos latch easiest caus state close time process qualifi determin row meet qualifi condit check qualifi qualifi array row return true compar specifi qualifi array return true els return fals caller qualifi list null param row row partial column list row return current scan standard standard polici reposit scan leav reenter access layer scan leav access save record handl record page case consid tri reposit scan enter access move page row move record handl save valid call raw store reposit record handl raw store care row move page move page onli happen case btree split case splitter caus scan posit page transact save copi row scan posit reposit scan necessari research tree top copi row case possibl key longer exist tabl case scan held open commit easi imagin row scan posit delet subsequ purg tabl befor scan resum case read uncommit scan hold lock current row purg follow scenario instanc read uncommit transact open scan posit row transact delet commit transact insert goe page caus split transact save scan posit key purg row transact resum scan longer exist row key paramet ad saniti check reposit doe row reposit param pos posit set scan param row key true exact key scan set key left key move key pos return return true scan reposit success els return fals posit key row key fals indic scan onli posit exact key match standard standard polici initi scan ani chang method reflect close btree init open super init store state qualifi actual search posit delay call standard standard polici close scan delet row current posit scan scan control delet standard standard polici call client indic current row doe qualifi indic scan control current row doe qualifi scan isol level scan result scan releas lock row note scan impliment support releas lock qualifi row delay releas lock sometim scan necessari lock scan reposit row page call onli scan posit current valid row standard standard polici return true current posit scan qualifi set qualifi pass open scan call routin reappli qualifi row current posit return true row qualifi row delet longer pass qualifi routin return fals case current scan anoth scan tabl transact delet row chang column referenc qualifi call posit scan row note comglomer don support updat btree recheck qualifi result fetch perform scan posit delet row undefin standard standard polici fetch row current posit scan param row row valu current posit scan store param qualifi indic qualifi appli standard standard polici org apach derbi iapi store access scan control held commit fetch row current posit scan scan control fetch standard standard polici fetch row current posit scan appli qualifi scan control fetch qualifi standard standard polici return scan info object describ perform scan return scan info object inform current scan scan info return scan info object info current scan standard standard polici return true current posit scan delet row case current scan anoth scan tabl transact delet row call posit scan row result fetch perform scan posit delet row undefin standard standard polici return key conglomer return key conglomer scan control posit row locat implement class move posit scan scan control standard standard polici fetch row posit scan valid posit scan valu templat storabl row replac valu row current scan posit column templat row type actual column conglomer result content templat row fetch return fals undefin result call fetch row exact logic equival call follow fetch row call interfac implement optim call possibl param row templat row valu posit scan store return true posit scan fals isn standard standard polici fetch row tabl client alloc array row pass fetch set call routin doe equival fetch call fill row array lock perform exact fetch call access mani row return fetch set return mani row fill fetch set return scan complet scan state fetch return fals scan complet fetch return row count current posit scan undefin fetch set mix fetch fetch fetch set call singl scan doe work becaus fetch set request row heap row qualifi row qualifi result scan posit tabl row qualifi scan posit row qualifi start stop posit openscan appli normal scan column row standard column return part scan describ valid column open scan descript expect usag alloc array empti row templat data valu descriptor row array alloc row array int row cnt scan open scan row cnt scan fetch set row array row cnt row scan row row array row array row cnt interfac provid prototyp perform result achiev interfac veri tie togeth differ fetch interfac fetch fetch fetch group fetch set return number qualifi row copi provid array row scan complet otherwis return valu row count row array length param row array array row copi row row array length routin assum entri array complet templat row standard standard polici insert row qualifi current scan input hash tabl routin scan execut entir scan describ open scan call everi qualifi uniqu row valu entri place hash tabl uniqu row valu entri store hashtabl key valu object store row key column number valu data row row valu duplic key valu row key column number valu data vector row caller call instanceof data valu object duplic expect determin data valu hashtabl entri row vector row note routin work effici caller ensur object row key column number implement hash code equal method appropri datatyp expect call onli call openscan qualifi stop posit openscan appli normal scan call logic equival caller perform follow import java util hashtabl hash tabl hashtabl row creat row fetch row duplic valu hash tabl put row key column number row null vector row vec insert duplic duplic valu instanceof vector row vec vector duplic valu els alloc vector hold duplic row vec vector insert origin row vector row vec add element duplic valu put vector data row hash tabl put row key column number row vec insert row vector row vec add element row column row standard column return part scan describ valid column open scan descript hard code row column row locat current onli possibl hash column conglomer futur chang interfac hash differ column mayb combin column overflow extern storag provid call routin gigabyt conglomer incur gigabyt memori probabl fail java memori condit routin memori condit max rowcnt exceed routin give empti hashtabl return fals exit routin fetch set succeed scan complet posit scan drain call return fals fetch call return fals reopen scan call restart scan row count size size capas load factor hash tabl caller creat hashtabl access doe reset ani paramet access charg alloc row object case btree don heap mayb solv work sort interfac param max rowcnt maximum number row insert hash tabl pass maximum param key column number column number column scan result row key hashtabl column scan result row differ column row tabl scan param hash tabl java hash tabl load standard standard polici reposit current scan call semant current scan close open scan call scan reopen conglomer scan reopen hold updat paramet pass origin open scan previous templat row continu param start key valu index row hold partial key valu combin start search oper defin start posit scan null start posit scan row conglomer param start search oper oper defin start key valu search start search oper scan control scan start row greater equal start key valu start search oper scan control scan start row key greater start key valu start search oper paramet ignor start key valu paramet null param qualifi array qualifi appli key restrict row return scan row ani qualifi return fals return scan null row return param stop key valu index row hold partial key valu combin stop search oper defin posit scan null posit scan row conglomer param stop search oper oper defin stop key valu determin scan stop posit stop search oper scan control scan stop befor row greater equal stop key valu stop search oper scan control scan stop befor row key greater start key valu stop search oper paramet ignor stop key valu paramet null standard standard polici reposit current scan call semant current scan close open scan call scan reopen conglomer scan reopen scan column list hold updat paramet pass origin open scan statist gather scan reset reopen scan continu accumul note oper current onli support heap conglomer note order row heap guarante instanc posit row locat middl heap insert data continu scan guarante row put heap param start row locat exist row locat conglomer posit start scan scan locat continu conglomer posit exist row locat invalid delet result thrown oper attempt param qualifi array qualifi appli key restrict row return scan row ani qualifi return fals return scan null row return standard standard polici fetch locat current posit scan scan control fetch locat standard standard polici return row locat object correct type call fetch locat org apach derbi iapi store access generic scan control row locat templat standard standard polici replac entir row current posit scan unimpl interfac btree throw scan control replac standard standard polici close scan commit abort happen save current scan posit key releas latch leaf scan method call latch leaf releas middl scan scan reposit save posit call code reposit param partial key part key save code null entir key unknown fetch page param vcol array column partial key valid key column array valid valu fetch page code null column valid throw standard error occur save posit reposit tree row posit boolean shortcut save posit releas page null null tree scan control correspond instanc open tree scan concurr note concurr rule deriv open tree open tree 