clock polici cach manag max size clock hand free entri atom integ shrink atom boolean clock polici cach manag initi size max size size insert entri entri move hand rotat clock entri evict evict clear flag remov holder pos shrink shrink creat code clock polici code instanc param cach manag cach manag request polici param initi size initi capac cach param max size maximum size cach insert entri cach maximum size exceed evict object cach entri avail reus increas size cach param entri entri insert lock standard error occur insert entri holder clock hand move hand holder return holder clock hand code null clock empti rotat clock order find free space entri code evict code code true code object evict room entri otherwis onli unus entri search evict entri mark clock hand sweep search stop reusabl entri percentag entri visit free unus entri search continu reusabl entri mani entri check param entri entri insert param evict evict normal code true code cach full code fals code otherwis return holder reus code null code didn find check entri evict onli entri present cach evict method doe check code cacheabl entri dirti necessari clean befor evict place method return code true caller hold lock entri befor call method param entri check param holder hold entri param clear flag flag clear entri code true onli call part normal clock rotat return entri evict provid code cacheabl clean remov holder clock posit param pos posit holder param holder remov tri shrink clock larger maximum size perform shrink clock method onli call singl thread time implement replac polici clock algorithm cach entri store circular buffer call clock clock hand point entri clock time entri access mark entri insert cach cach full clock hand move entri entri evict space entri time clock hand sweep entri mark candid remov time clock hand sweep mark meantim concurr access multipl thread method class synchron number differ object code cach entri code object lock befor access clock structur circular buffer clock hand synchron code array list code repres circular buffer access individu code holder code object clock structur protect synchron holder avoid deadlock ensur thread obtain synchron lock order code cach entri code class javadoc dictat order lock code cach entri code object addit requir thread obtain ani synchron lock hold synchron lock clock structur code holder code object thread howev obtain synchron lock clock structur holder lock code cach entri code object 