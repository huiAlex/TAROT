activ lock wake potenti grant skip activ lock space ref qualifi set potenti grant clear potenti grant wait grant timeout wake whi initi lock part constructor futur version class becom mutabl mutabl ident singl thread requir set potenti grant flag return true flag chang state singl thread requir clear potenti grant flag singl thread requir wait lock grant return lock grant sleep wakeup scheme depend boolean wake potenti grant singl thread requir assum thread request lock return true wait earli someon els woke standard timeout deadlock thread interrupt wake anyon sleep lock thread safe lock repres grant wait lock request mutabl immut ident thread awar 