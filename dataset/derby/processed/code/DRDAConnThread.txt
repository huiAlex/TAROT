conn thread left brace brace byte xff correl socki socko reader writer proto code point code point code point code point code point current requir length requir int server session time slice log connect send warn fals close log stream app request databas sqlam level diagnost level byte unknown manag manag databas access prev pkgnamcsn rdbnam rdbcolid pkgid pkgcnstkn pkgsn pend statement timeout decrypt manag public key target seed prd byte eod eod null state err warn warn org apach derbi impl jdbc authent basic authent servic impl org apach derbi impl jdbc authent authent servic impl dummi protocol info fals defer reset fals gmt calendar string char char conn thread session server time slice log connect run input stream output stream product byte reader writer correl session databas server crrtkn close set log connect valu set time slice valu mark communic failur arg arg arg arg mark communic failur arg arg arg arg throw syntaxrm errcd arg agent error msg code point code point println log dbname drda msg write rdbnam initi initi session session initi state clean close result set stmt sqle writer mark process command error chain exchang server attribut pars connect switch utf switch ebcdic write bfailur code point rdb access error code point authent sql verifi user password conn databas pars pars pars time write write pars pars pars yobject stmt pars pars pars min val pars pars write write svr cod write write pkgcnstkn write pars skip remaind onli skip id pars yobject stmt pars stmt write write dss object stmt write svr cod write pars write secur check code pars write secur check code svrcod secchkcd secur check code pars pars set stmt byte order set databas stmt typ def nam write svrcod write pars pars pars tobject stmt pars pars stmt pars pars pars pars tobject stmt write stmt write stmt write stmt pars stmt pars work stmt byte order calendar read set param stmt pmeta read read lob length ext len indic pars date date string cal pars time time string cal pars timestamp time string cal read set ext param stmt stream read set ext param stmt drda type ext len stream pars pars pars mobject pars tobject ignor stmt stmt write pars pars pars dss pars encod string pars mor pars mor pars ccsid length pars ccsid length pars pars write updat count write updat count send sql code write updat count row count write null dobject write sever write sever sever write updat count row count write sql state sqlcode updat count row count build sqlerrmc build preformat sqlerrmc build token sqlerrmc build data truncat sqlerrmc write updat count row count sqlerrmc write updat count row count write write write write write write row num sql code sql state dbname sqlerrmc write row num sql code sql state dbname sqlerrmc write write stmt rtn output write stmt con write stmt rsmeta pmeta col start col write holdabl write stmt write stmt object write fdoca index drda type object write fdoca index drda type split stmt blksize process leftov stmt data stmt posit cursor stmt write rsmeta pmeta elem num rtn output write mor write rsmeta pmeta jdbc elem num rtn output write rsmeta pmeta jdbc elem num rtn output write rsmeta pmeta jdbc elem num rtn output write fdoca val index val drda type precis scale val null stmt param write nullabl drda type val null format date date format time time format timestamp pad int buf offset length valu copi requir req remov requir code point check requir code point mani code point big code point invalid client prdid requir valu code point bad object length code point rdb rdbnam invalid valu code point invalid code point code point code point support code point valu support code point verifi requir object code point req code point verifi order code point req code point rdbnam mismatch code point close session handl send protocol send unexpect close log connect time slice trace valu trace read drda type index stream stream encod showmem convert hex string buf check valid typ def nam typdefnam check length codepoint reqlen read boolean codepoint initi databas dbname set databas code point write type write stmt check warn conn stmt updat count alway send send warn session byte read byte written build runtim info indent local lang util final chain valid sec mec close stream stream convert byte array input stream stream set charact stream stmt extdta stream stream encod set binari stream stmt index stream stream monitor find servic factori interfac servic creat thread process session request param session session request process param server server start thread param time slice time slice thread param log connect main routin thread loop thread close session doe work session input stream return input stream output stream return output stream product byte reader return reader thread writer return writer thread correl return correl session work return session databas work return databas server return server correl token return crrtkn databas return databas close connect thread set log connect param valu valu set log connect set time slice valu param valu valu time slice indic communic failur param arg info communic failur param arg info communic failur param arg info communic failur param arg info communic failur protocol disconnect alway thrown indic communic failur log derbi log param sourc thrown param arg info communic failur param arg info communic failur param arg info communic failur param arg info communic failur protocol disconnect alway thrown syntax error param errcd error code param arg code point valu protocol agent error someth veri bad happen param msg messag describ error protocol agent error alway thrown code point param code point code point valu protocol print line log param dbname databas param drda identifi param msg messag write param rdbnam databas protocol initi class initi session initi state session determin command session protocol session command session chang configur net server turn trace command session process command close session session exchang server attribut chang session state clean close result set thrown collect respons param stmt statement clean param sqle thrown param writer mark start index clear output buffer protocol protocol error detect process command receiv onc server attribut exchang protocol sever error chain header indic termin chain error stop process command chain send ani repli accord messag indic sever error otherwis applic requestor termin receiv chain repli command process independ defin interdepend chain command command process receiv set chain command receiv separ chain origin defin save network cost param rais protocol exchang server attribut applic request protocol switch writer reader support switch writer reader write failur instanc variabl sever code requir relat databas requir server diagnost option param code point codepoint failur multipl reason connect throw state accord standard sinc onli state indic authent error occur check state conclud authent caus thrown method tri standard messag object check authent error state state messag return entir defin state state onli return charact isn link standard assumpt state caus authent failur follow correct pre solv issu param sql check realli caus authent failur return true sql assum caus authent failur fals otherwis state verifi user password usernam password verifi connect databas return secur check code protocol connect databas usernam password verifi connect databas return secur check code protocol pars exchang server attribut instanc variabl extern option manag level option supervisor option server class option server option ignor server product releas level option ignor protocol pars exchang server attribut instanc variabl extern option manag level option supervisor option server class option server option ignor server product releas level option ignor protocol pars occurr command target ignor valu extnam srvclsnm srvnam srvrlslv ignor spvnam sinc null onli manag ad pars manag level instanc variabl repeat requir manag convers communic manag sync point convers communic manag communic manag dictionari relat databas resynchron manag secur manag applic manag supervisor sync point manag codepoint onli add manag param time time subsequ protocol write repli command instanc variabl extern option manag level list option server class option server option server product releas level option protocol write manag level target server provid inform ani target manag sourc explicit request manag class target server support level greater equal sourc server level sourc server level return class target server oper sourc level otherwis level return target server support level sourc server level target server level return class target server doe recogn code point manag class doe support class return level target server wait command sourc server termin communic sourc server receiv compar entri mgrlvlls paramet receiv correspond entri mgrlvlls paramet ani level mismatch sourc server decid adjust level target support manag class architectur criteria decis sourc server termin communic continu target server level support attempt whatev command user request receiv error repli messag real function mismatch manag level sourc server specifi target server return compat manag level depend specifi manang incompat manag level specifi instanc variabl repeat requir manag convers communic manag sync point convers communic manag communic manag dictionari relat databas resynchron manag secur manag applic manag supervisor sync point manag manag pars access secur target server support request applic request singl valu return ident valu command target server doe support request valu return applic request choos valu secur mechan current support user password default encrypt user password strong password substitut derbi network client onli instanc variabl secur manag option secur mechan requir relat databas option secur token option requir sec mech return secur check code everyth pars instanc variabl relat databas option packag consist token section number requir queri block size requir queri block protocol control option maximum number extra block option default valu output overrid option queri rowset size option level monitor event option return packag consist token section number protocol pars object object data type definit option type defint overrid option program variabl data option suppli appli object statement onc statement default valu onc effect valu suppli valu object follow sever chain togeth throw protocol throw pars indic output descript overridden ani return output overrid option protocol pars give maximum size queri block return request return queri block size protocol pars number row return param min val minimum valu return queri row set size protocol pars implicit close scrollabl cursor data return true close data write queri previous open instanc variabl sever code requir relat databas requir packag consist token section number requir protocol write queri open instanc variabl sever code requir warn relat databas requir packag consist token section number requir param svr cod sever code protocol write open queri failur instanc variabl sever code requir relat databas requir param describ failur protocol write instanc variabl databas valid collect identifi packag identifi packag consist token packag section number possibl format fix extend includ length inform string throw protocol pars continu queri instanc variabl relat databas option packag consist token section number requir queri block size requir queri relat scroll action option queri scroll orient option level queri row number option queri row sensit option level queri block reset option level queri return data option level queri rowset size option level queri refresh answer set tabl option number fetch insert row option maximum number extra block option return option option monitor event option return statement continu throw protocol throw skip remaind current chain param onli skip id true onli skip chain current fals skip chain ses chain differ id protocol pars object instanc variabl output overrid descriptor option param stmt statement work protocol pars output overrid descriptor specifi output format data return output statement output queri param stmt statement appli protocol piggi ani modifi session attribut current messag write conatain follow jdbc isol level unsign byte follow current schema string throw java sql throw org apach derbi impl drda protocol write open queri complet instanc variabl sever code requir queri protocol type requir hold cursor posit option queri attribut scrollabl option level queri attribut sensit option level queri attribut updat option level queri instanc identifi requir level server diagnost inform option param dss object return object part repli param stmt statement process protocol write queri process termin manner queri result set close resum command close command param svr cod sever code protocol write queri process termin error condit deadlock lock timeout sever code alway error protocol pars databas return databas protocol write secur mechan send secur token encrypt secur mechan send list instanc variabl secur mechan requir secur token option requir secur mechan encrypt secur check code error occur process param secur check code protocol pars secur check instanc variabl secur manag option ignor secur mechan requir secur token option requir encrypt password option requir secur mechan password option requir sec mech user option requir sec mec databas option requir databas sec return secur check code protocol write secur check repli instanc variabl server code requir secur check code requir secur token option ignor secur servic error number server diagnost inform protocol calcul valu param secur check code return valu pars access instanc variabl access manag class requir correl token requir relat databas requir product specif identifi requir data type definit requir type definit overrid requir updat option product specif data option ignor statement decim delimit option statement string delimit option target default valu return option return sever code protocol pars return typdefnam protocol set statement databas byte order depend argument param set databas true set databas byte order otherwis set statement param stmt statement set databas fals param typ def nam valu write access complet instanc variabl sever code info warn requir product specif identifi requir type definit requir type definit overrid requir token interrupt command option correl token onli return didn request server diagnost inform option packag default charact subtyp option user target system option server list protocol pars type defint overrid overrid specifi code charact identifi instanc variabl singl byte option doubl byte option mix byte charact option param statement appli protocol pars prepar statement instanc variabl relat databas option packag consist token section number requir return descriptor area option monitor event option return return don return sqlda return input sqlda return output sqlda throw protocol throw pars object object data type definit option type defint overrid option statement requir cursor attribut prepar option level suppli appli object statement onc statement default valu onc effect valu suppli valu object follow sever chain togeth return statement throw protocol throw pars type descriptor area return true output fals otherwis protocol pars cursor attribut prepar encod string combin follow possibl string param stmt statement protocol pars describ statement previous prepar instanc variabl sqlda type expect output input relat databas option packag consist token section number requir monitor event option return expect output sqlda throw protocol throw pars execut cursor statement previous prepar instanc variabl relat databas option packag consist token section number requir output expect number row insert insert procedur specifi host variabl derbi queri block size max resultset count max number extra block resultset flag commit option output overrid option queri rowset size level monitor event option throw protocol throw pars databas commit rollback execut part command sinc don commit rollback command ignor protocol pars command object command object data type definit option overrid option option variabl data specifi prpare statement input paramet option extern data output overrid descriptor store procedur call suppli appli object statement onc statement default valu onc effect valu suppli valu object follow sever chain togeth param stmt statement execut throw protocol throw write result set column inform throw protocol throw write result set repli data throw protocol throw write instanc variabl sever code inform onli requir list requir server diagnost inform option throw protocol throw pars program variabl data handl pars work pars program variabl data instanc variabl data descriptor requir data option throw protocol throw code calendar instanc time zone set instanc cach reus thread calendar consist read write date time valu calendar sinc local default calendar abl repres time instanc becaus time fall exist hour day switch daylight save time time zone doesn observ daylight save time return calendar time zone read differ type input paramet set prepar statement param index paramet param stmt drda statement param pmeta paramet meta data throw protocol throw read stream pars date string receiv client param date string date string pars param cal calendar date pars return date object repres date specifi calendar org apach derbi client date time date date byte throw illeg argument date correct format pars time string receiv client param time string time string pars param cal calendar time pars return date object repres time specifi calendar org apach derbi client date time time time byte throw illeg argument time correct format pars timestamp string receiv client param time string time string pars param cal calendar timestamp pars return date object repres timestamp specifi calendar org apach derbi client date time timestamp timestamp byte throw illeg argument timestamp correct format read differ type input paramet set prepar statement param base index paramet param stmt associ param drda type drda type paramet throw protocol throw pars execut immedi statement instanc variabl relat databas option packag consist token section number requir commit option monitor event option command object data type definit option overrid option statement requir return updat count throw protocol throw pars execut set environ instanc variabl relat databas option packag consist token option monitor event option command object data type definit requir overrid requir statement requir throw protocol throw pars object object data type definit option type defint overrid statement requir suppli appli object statement onc statement default valu onc effect valu suppli valu object follow sever chain togeth return statement throw protocol throw pars object object data type definit option type defint overrid option statement requir list object follow sever chain togeth throw protocol throw write instanc variabl sever code inform onli requir relat databas requir server diagnost inform option protocol pars packag consist token section number instanc variabl databas valid collect identifi packag identifi packag consist token packag section number return code pkgnamcsn code valu throw protocol pars dss protocol pars encod data string applic request return string valu protocol pars variabl charact mix byte variabl charact singl byte format length byte valu length byte valu onli length length return string valu pars nullabl charact mix byte nullabl charact singl byte format byte null indic mix charact length byte mix charact string byte null indic singl charact length byte singl charact length string return string valu protocol pars mix charact string return string valu protocol pars singl byte charact string return string valu protocol pars instanc variabl relat databas option packag consist token section number requir queri instanc identifi requir level monitor event option return astat close throw protocol throw pars spec option sinc don current support ignor send warn client expect negat posit warn error warn condit encod sever condit return code error code warn ident link sever set code sever negat sever valu encod derbi onli negat sever valu place param warn return valu send write null object protocol write instanc variabl sever code requir param sever sever error protocol write instanc variabl sever code requir param sever sever error protocol translat derbi sever param write communcat area group descript length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid param encount protocol write optim case real null data communcat area group descript length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid param sql state state alreadi convert param sqlcode sqlcode param updat count param row count protocol creat error messag messag argement return client normal pass server call sever store procedur call sever messag send messag text method truncat valu accord client capac onli handl charact server send sqlerrmc encod client messag client send inform server call sqlca messag sever paramet procedur includ local sqlerrmc client receiv server server side procedur system procedur call messag servic local messag retriev local error messag messag servic local messag sqlerrmc pass pars retriev messag valu pars messag char valu otherwis entir sqlerrmc messag messag retriev local messag present client param build return string messag argument pass messag text sever error build preformat text sever derbi send messag text local server local param build return preform messag text messag separt build token send token argument client derbi thrown user code messag argument token separ multipl messag separ system procedur param print build code java sql data truncat warn serial field code data truncat instanc order paramet list constructor param code data truncat instanc serial return string field warn write communic area group descript length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid param encount param sqlerrmc sqlcode protocol write part param updat count param row count write diagnost group descript ident nullabl group length overrid length overrid length overrid write diagnost condit inform array ident write write number element row descript write write number element group descript length overrid write diagnost condit row ident write diagnost condit group descript length overrid lengeh overrid length overrid length overrid lengeh overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid write descriptor area row descript communic area param stmt prepar statement throw protocol throw write queri answer set descript param stmt statement work param con simpli wrap instanc variabl requir onli column singl column subsequ fit current block mani column fit remain follow block throw protocol throw write late data valu group descriptor length follow follow column numer decim type otherwis param stmt drda statement param rsmeta resultset meta data param pmeta paramet meta data callabl statement param col start start column group send param col column send param group throw protocol throw holdabl pass repres holdabl statement specif result set param holdabl throw protocol throw write queri answer set data answer set data result queri client rowset process routin attempt pack data result split row block case client call return remaind row split block expens sever reason extra logic run client server side network trip involv block continu split row general wast sinc remaind split row addit row sinc split expens server attempt avoid current server algorithm comput length current row stop tri pack row buffer anoth row length fit howev sinc row vari substanti length algorithm ineffect prevent split exampl short row buffer follow long row long row split possibl improv algorithm substanti length previous row guid attempt pack anoth row sort overal averag row size comput multipl row row place block row process result set discov row fit split row block relat small hold entir row buffer place entir block reset result set cursor row unread row split row block tend copi data multipl time care code remov copi howev import complic code correct effici sever bug split logic alreadi instanc variabl byte string param stmt statement process throw protocol throw routin place data current block format data object rule basic type process flow routin normal rowset scrollabl cursor flow routin place singl row block return indic caller call place anoth row result set caller send extern data reason place ani row process routin place entir row block return indic block full callabl statement process routin place result output paramet call procedur block code path realli dramat differ path share onli veri small amount common code routin case possibl data return fit block case call split split data rememb remaind data result set split data relat rare normal cursor case becaus caller write coars estim techniqu avoid call split overal structur routin implement loop outer loop process row time cursor callabl statement loop execut onli onc num col loop process column current row output parmet procedur column data written direct inlin block data howev written extern data common larg object case extern data pointer written block actual data flow separ block return block column valu specifi type code result set form suitabl writ link write fdoca val type call code result set object int onli current data type repres date time fetch code java util calendar link write fdoca val write note chang method correspond method code callabl statement link object write fdoca java sql callabl statement int int param result set fetch object param index column index param drda type type object fetch return object valu column throw databas error occur fetch column valu object write fdoca java sql callabl statement int int valu output paramet specifi type code callabl statement form suitabl writ link write fdoca val type call code callabl statement object int method behav correspond method code result set chang method reflect method link object write fdoca java sql result set int int detail param callabl statement fetch object param index paramet index param drda type type object fetch return object valu output paramet throw databas error occur fetch paramet valu object write fdoca java sql result set int int split blksize chunk routin call data fit write data store remaind result set point client return call process leftov handl data interact conn thread writer complic routin call becaus conn thread realiz construct messag larg point reclaim extra data hold aid process writer provid routin length copi data truncat addit detail complex protocol interest reader studi bug http issu apach org jira brows http issu apach org jira brows param stmt statment param blksize size queri block throw throw protocol process remaind data result split routin call start build block normal observ remaind data previous block return indic noth howev discov previous block split retriev remaind data result set write fit block hope fit row veri long return indic block fill remaind data immedi data send data param stmt statement param result set throw protocol throw posit cursor insensit scrollabl cursor param stmt statement param result set write data area group descript length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid length overrid param rsmeta resultset meta data param pmeta paramet meta data param elem num column number return case result set paramet number case paramet param rtn output result set throw protocol throw write variabl charact mix byte singl byte prefer write mix byte defin server sinc default don chang alway write mix byte param string write protocol write descriptor user defin type group descriptor format spec volum section howev format rich carri inform format doe subtyp code format doe convey java class result set meta data column class length overrid constant map java sql type constant doe defin constant map java sql type length overrid databas length overrid length overrid schema abov length overrid length overrid unqualifi abov follow format onli communic derbi server derbi client version higher client server combin send null length overrid length overrid fulli qualifi abov length overrid fdoca constant length overrid fdoca constant java class bound abov param rsmeta resultset meta data param pmeta paramet meta data param jdbc elem num column number return case result set paramet number case paramet param rtn output result set throw protocol throw write fdoca valu client param index index column return param val valu write client param drda type type fdoca constant param precis precis param stmt statement process param param true write valu procedur paramet protocol fdoca constant write nullabl nullabl drdatyp null valu appropri param drda type type param val null true null valu fals otherwis convert code java sql date string format expect client param date date format return string format repres date org apach derbi client date time date byte date convert code java sql time string format expect client param time time format return string format repres time org apach derbi client date time time byte time convert code java sql timestamp string format expect client param timestamp format return string format ffffff fff org apach derbi client date time timestamp byte timestamp insert integ char array pad lead string represent shorter code length charact param buf char array param offset array start insert valu param length desir length insert string param valu integ valu insert copi list requir code point templat check param req list requir codepoint remov codepoint requir list param code point code point remov check requir code point param code point code point list code point requir mani code point param code point code point duplic protocol object big param code point code point big object protocol invalid derbi client tri connect thrown requir valu error log messag derbi log param prdid product doe match throw protocol requir valu param code point code point invalid valu object length param code point code point bad object length protocol param rdbnam databas protocol invalid valu code point param code point code point valu protocol invalid codepoint command param code point code point valu protocol don support code point param code point code point valu protocol don support valu param code point code point valu protocol verifi code point requir code point param code point code point param req code point code point requir time protocol verifi code point order param code point code point param req code point code point requir time protocol databas code point doesn match previous databas param code point codepoint mismatch occur protocol close current session handl write error protocol appropri close session thread appropri notic client protocol error param code protocol code send unpexpect error client param test connect thread close return true close fals otherwis connect log return true connect log fals otherwis time slice valu length time work session return time slice send string consol param valu valu print consol send trace string consol read valu trace enabl param drda type type valu param index base paramet index param stream stream read param stream valu stream paramet valu protocol flow param encod encod data ani show runtim memori convert byte array hex string param buf buffer convert return hex string represent byte array check typdefnam accept param typdefnam protocol check length equal requir length codepoint param codepoint codepoint check param reqlen requir length protocol read check boolean valu param codepoint code point error report return true fals depend boolean valu read protocol creat databas intial conn thread databas param dbname databas initi dbnam null add databas current session set current databas param code point codepoint process protocol write instanc variabl sever code requir unit work disposit requir relat databas option server diagnost inform option param type oper type commit rollback check warn write param conn connect check param stmt statement check param result set check param updat count updat count includ param alway send alway send exist warn param send warn send ani warn protocol final current chain send valid strong password substitut secur mechan check target server support secur mechan base environ applic request ident connect support target server current authent provid derbi databas system level phase databas level password encrypt base authent scheme applic request derbi network client phase return secur check code everyth close stream param stream stream close possibl code null throw wrap code close stream fail set specifi charact paramet embed statement param stmt statement param base index paramet param extdta stream stream read data param stream stream content stream valu protocol flow param encod encod stream throw read stream fail throw set stream fail set specifi binari paramet embed statement param stmt statement param index base index paramet param stream stream read data param stream stream content stream valu protocol flow throw read stream fail throw set stream fail privileg monitor lookup privat user code call entri point privileg servic lookup privat user code call entri point class translat protocol applic request derbi translat result derbi return applic request 