dir storag factori storag file path storag file directori file storag file directori file persist file path persist file directori file persist file directori file sync stream meta data support write sync read onli databas support random access init construct storag file path param path path file return correspond storag file object construct storag file directori file param directori directori part path param file file directori return correspond storag file object construct storag file directori file param directori directori part path param file file directori return correspond storag file object construct persist storag file path param path path file guarante temporari file directori null databas directori return return correspond storag file object construct persist storag file directori path param directori path directori guarante temporari file directori guarante null param file file directori guarante null return correspond storag file object construct persist storag file directori path param directori path directori guarante null guarante creat call persist file method param file file directori guarante null return correspond storag file object forc data output stream storag ensur persist databas transient databas doe surviv restart sync method implement anyth param stream stream synchron param meta data true method forc chang file content metadata written storag fals onli forc file content chang written implement ignor paramet alway forc metadata chang error occur sync fail thrown buffer flush becaus system guarante buffer synchron physic media method test rws rwd mode implement rws rwd mode support databas engin conclud write method rws rwd mode storag random access file slow sync method fast optim accord return true random access file open rws rwd mode immedi write data storag fals determin storag support random access random access support onli access input stream output stream databas writabl return true storag support random access fals writabl class provid disk base implement storag factori interfac databas engin access persist data transact log directori default subsubprotocol 