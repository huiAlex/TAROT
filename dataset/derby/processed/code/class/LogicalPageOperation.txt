logic page oper undo record logic page oper logic page oper page undo record write extern read extern generat undo xact reset record handl record handl reclaim prepar lock lock polici find logic page xact undo undo xact undo page undo record rinstant read error read log stream class log stream corrupt generat compens page undo oper rollback chang page oper page oper roll redo onli overwrit function return null logic undo standard standard derbi polici method read object input return handl log oper logic undo logic figur real record roll reset log oper refer record return record handl correspond record chang dure roll hint logic undo good place record appli roll reclaim lock associ chang log record param lock polici lock polici claim lock standard standard polici find page rollback oper appli actual logic log oper expect implement undoabl generat undo util function find logic page provid common case scenario logic undo interfac find undo page subclass implement undoabl generat undo function find logic page logic undo callback function method default releas resourc dure recoveri redo log system page orient page store page undo oper find page page latch releas default findpag releas resourc releas resourc call releas ani resourc acquir param xact transact compens param option input return compens oper rollback chang standard standard derbi error polici method read object input page basic oper undoabl generat undo org apach derbi iapi store raw loggabl releas resourc undo chang indic log oper option data undo page undo record page record undo appli undo recor differ roll record undo page differ page roll oper appli word record move anoth page record chang logic oper deal record avail method indic data read origin written raw store implement onli onli call comp param xact transact rollback param undo page page rollback chang param undo record record rollback chang param rinstant log instant page undo oper param option data rollback oper thrown ani method object input standard standard derbi polici abstract class logic log oper logic log oper undo oper appli differ page origin oper derbi format format abstract class derbi purpos provid method logic undo derbi upgrad derbi disk layout page basic oper super class record compress int record oper affect undo logic undo piec code figur page row move option data derbi format 