xact factori user transact nest raw read onli user transact nest raw updat user transact intern transact nest transact raw store daemon uuid factori context factori lock factori log factori data factori data valu factori raw store factori ttab tran atom long lock polici lock polici creat log fals resourc backup semaphor object backup block oper backup fals xact factori support start param boot creat properti stop lock factori creat finish start common transact rsf parent transact read onli compat space xact context tran exclud flush log xact start transact rsf tran start nest read onli user transact rsf parent transact compat space tran start nest updat user transact rsf parent transact tran flush log xact start global transact rsf format global branch find user transact rsf context mgr tran start nest top transact rsf start intern transact rsf find transact tran rollback transact recoveri transact rsf handl prepar xact rsf updat instant mark corrupt origin error set transact oldxid reset tran push transact context context xact abort rsf exclud add updat transact transact status remov updat transact prepar transact submit post commit work work set raw store factori rsf activ updat transact prepar xact remov xact add xact exclud lock polici mode isol stricter transact tabl transact tabl transact tabl transact info databas creation resourc manag block backup wait unblock backup block backup block oper wait unblock backup block oper context servic monitor boot servic modul creat servic modul factori interfac properti find servic modul servic modul factori interfac lock factori store databas creation finish standard standard derbi error polici common work creat local global transact param rsf raw store factori creat xact param parent transact parent transact nest user transact param current context manag associ xact param compat space null transact creat els null compat space standard standard polici find transact tabl entri pass transact assum ident properti transact tabl entri recoveri onli rollback activ transact updat raw store recoveri transact pass work recoveri onli transact roll follow order intern transact revers xact chronolog order transact revers xact chronolog order param recoveri transact transact user transact work standard ani thrown dure rollback run prepar transact factori restor state remain recoveri handl transact manag includ creat context manag push xact context reclaim updat lock data chang transact expect call redo undo recoveri loop transact tabl empti prepar xact onli recoveri standard derbi standard error polici earliest log instant activ log record log earliest transact activ log system guarente transact tabl popul order transact start recoveri onli realli convienc routin caller access log factori set short tran call log factori recoveri creat raw transact context push context current context manag add transacion transact tabl param context transact context param xact transact object param abort true ani error abort transact otherwis xact context cleanup error decid param rsf raw store factori param exclud dure system quiesc transact activ dure quiesc state standard standard derbi error polici add transact list transact updat raw store call xact log oper method log system guarente transact ad true order start defin order xact log record log remov transact list transact updat raw store chang state transact prepar recoveri updat transact tabl entri prepar state submit post commit work post commit daemon return true flight updat tranasact caller awar mechan stop transact start inform outdat report onli call function special time dure recoveri check ani prepar transanct transact tabl caller awar mechan stop transact start inform outdat report return true prepar transact transact tabl fals otherwis remov transact return fals iff transact tabl doesn exclus quiesc state whomev lock polici transact return transact tabl log checkpoint oper transact tabl checkpoint oper dure recoveri return fals databas creation finish return modul provid aresourc interfac transact tabl standard standard derbi polici block onlin backup backup block execut ani unlog oper ani opear prevent consist backup param wait true wait backup block return true backup block fals otherwis unblock backup backup block oper finish check ani backup block oper progress prevent start backup finish backup block oper progress code wait code paramet valu true wait current backup block oper finish consist backup ani backup block oper unlog oper progress param wait true wait current backup block oper progress finish return true backup block oper progress fals otherwis runtim runtim occur case thread block backup semaphor notifi backup complet backup block oper privileg lookup context servic privat user code call entri point privileg monitor lookup privat user code call entri point privileg startup privat user code call entri point privileg startup privat user code call entri point 