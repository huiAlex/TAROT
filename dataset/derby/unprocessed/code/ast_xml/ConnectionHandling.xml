<Class>
    <Id>1056</Id>
    <Package>org.apache.derbyTesting.functionTests.tests.memory</Package>
    <ClassName>ConnectionHandling</ClassName>
    <SuperClass></SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment>ConnectionHandling  /** 
 * Test opening connections until a failure due to out of memory and then continue with 500 connection requests to see if the system reacts well of falls over.
 */
</ClassComment>
    <FieldList/>
    <MethodList>
        <Method>
            <MethodName>main</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>args</ParamName>
                    <ParamType>String[]</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>Connection [conn=DriverManager.getConnection("jdbc:derby:wombat;create=true")]</InnerVar>
                <InnerVar>ArrayList&lt;Connection&gt; [list=new ArrayList&lt;Connection&gt;()]</InnerVar>
                <InnerVar>Properties [p=new Properties()]</InnerVar>
                <InnerVar>int [fail_sqloome=0]</InnerVar>
                <InnerVar>int [fail_sql=0]</InnerVar>
                <InnerVar>int [fail_bad=0]</InnerVar>
                <InnerVar>int [ok=0]</InnerVar>
                <InnerVar>int [alreadyClosed=0]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>System.out;println;["Test ConnectionHandling starting"]</InnerMethodInvoke>
                <InnerMethodInvoke>conn;close;[]</InnerMethodInvoke>
                <InnerMethodInvoke>list;ensureCapacity;[30000]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;[""]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;[list.size() + " successful connections"]</InnerMethodInvoke>
                <InnerMethodInvoke>list;ensureCapacity;[list.size() + 500]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;["OK                  : " + ok]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;["Failed 08004        : " + fail_sqloome]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;["Failed SQLException : " + fail_sql]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;["Failed Throwable    : " + fail_bad]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;["closing connections : " + list.size()]</InnerMethodInvoke>
                <InnerMethodInvoke>System.out;println;["already closed      : " + alreadyClosed]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>Exception</ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>