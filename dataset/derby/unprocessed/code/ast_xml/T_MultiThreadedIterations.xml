<Class>
    <Id>1253</Id>
    <Package>org.apache.derbyTesting.unitTests.harness</Package>
    <ClassName>T_MultiThreadedIterations</ClassName>
    <SuperClass>T_MultiIterations</SuperClass>
    <SuperInterfaceList>
        <SuperInterface>Runnable</SuperInterface>
    </SuperInterfaceList>
    <ClassComment>T_MultiThreadedIterations  /** 
 * Abstract class which executes T_MultiIterations. This allows multiple threads running T_MultiIterations. This allows the setup to be performed once, and then the test itself to be run with multiple threads for a number of iterations.  The number of threads and iterations are set by the property  derby.unittests.numThreads and derby.unittests.iterations and default to 1. &lt;P&gt; Statistics are provided about each iteration in the error log. The statistics are time for each iteration, used and total memory changes per iteration.
 * @see T_Generic
 */
</ClassComment>
    <FieldList>
        <Field>
            <FieldName>threadNumber</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>inError</FieldName>
            <FieldType>boolean</FieldType>
        </Field>
        <Field>
            <FieldName>numThreads</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>iterations</FieldName>
            <FieldType>int</FieldType>
        </Field>
        <Field>
            <FieldName>error</FieldName>
            <FieldType>Throwable</FieldType>
        </Field>
        <Field>
            <FieldName>TestThreads</FieldName>
            <FieldType>Thread[]</FieldType>
        </Field>
        <Field>
            <FieldName>TestObjects</FieldName>
            <FieldType>T_MultiThreadedIterations[]</FieldType>
        </Field>
    </FieldList>
    <MethodList>
        <Method>
            <MethodName>T_MultiThreadedIterations</MethodName>
            <MethodComment></MethodComment>
            <ReturnType></ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>runTests</MethodName>
            <MethodComment>/** 
 * Run the test. The test should raise an exception if it fails. runTests should return if the tests pass.
 * @exception T_Fail Test code throws these
 */
</MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar>String [myClass=this.getClass().getName()]</InnerVar>
                <InnerVar>String [noPackage=myClass.substring(myClass.lastIndexOf('.') + 1)]</InnerVar>
                <InnerVar>String [propertyName="derby." + noPackage + ".numThreads"]</InnerVar>
                <InnerVar>String [nthread=PropertyUtil.getSystemProperty(propertyName)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType>T_Fail</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>run</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar>String [threadName="[" + Thread.currentThread().getName() + "] "]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>out;println;[threadName + "started"]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>joinSetupTest</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList/>
            <ThrowExceptionList>
                <ExceptionType>T_Fail</ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>newTestObject</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>T_MultiThreadedIterations</ReturnType>
            <ParameterList/>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getNumThreads</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>int</ReturnType>
            <ParameterList/>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>