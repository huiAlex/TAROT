Set correct collation type and derivation for result character string types from CHAR, VARCHAR and XMLSERIALIZE functions
As per the wiki page  , assign correct collation type for results of CHAR, VARCHAR and XMLSERIALIZE functions. The rule as copied from the wiki page is as follows
6)CHAR, VARCHAR and XMLSERIALIZE functions do not look like they are defined in the SQL spec. Their behavior can be defined as similar to CAST ie, the result character string of CHAR/VARCHAR/XMLSERIALIZE will have the same collation as current schema s character set. The collation derivation will be implicit.   
Set correct collation type and derivation for result from user defined functions  that return character string type.  
As per the wiki page  , assign correct collation type for results of user defined functions. The rule as copied from the wiki page is as follows
7)For user defined functions  that return character string type, the return type s collation will have the same collation as of the character set of the schema that the function is defined in. The collation derivation will be implicit.
Set correct collation type and derivation for result character string types from CURRENT ISOLATION, CURRENT_USER, SESSION_USER, SYSTEM_USER, CURRENT SCHEMA and CURRENT SQLID.
As per the wiki page  , assign correct collation type for esult character string types from CURRENT ISOLATION, CURRENT_USER, SESSION_USER, SYSTEM_USER, CURRENT SCHEMA and CURRENT SQLID. The rule as copied from the wiki page is as follows
9)For CURRENT_USER, SESSION_USER, SYSTEM_USER, SQL spec Section 6.4 Syntax Rule 4 says that their collation type is the collation of character set SQL_IDENTIFIER. In Derby s case, that will mean, the collation of these functions will be UCS_BASIC. The collation derivation will be implicit.
10)CURRENT ISOLATION, CURRENT SCHEMA and CURRENT SQLID seem to be Derby specific functions, I didn t find them in the SQL spec. But in order to match their behavior with the other functions covered in 9) above, their return character string type s collation will be the collation of character set SQL_IDENTIFIER. The collation derivation will be implicit.
