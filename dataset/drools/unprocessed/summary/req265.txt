refactor the core reteoo code  for sinle and composite propagations
