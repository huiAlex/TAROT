add lock() and unlock() to RuleBase and setup a rulebase listener to progated the fireAllRules calls.
