<Class>
    <Id>3083</Id>
    <Package>org.drools.modelcompiler.drlx</Package>
    <ClassName>DrlxCompiler</ClassName>
    <SuperClass></SuperClass>
    <SuperInterfaceList>
        <SuperInterface></SuperInterface>
    </SuperInterfaceList>
    <ClassComment></ClassComment>
    <FieldList/>
    <MethodList>
        <Method>
            <MethodName>compileFolders</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>CompiledUnit</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>folders</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>compileFolders</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>CompiledUnit</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>releaseId</ParamName>
                    <ParamType>ReleaseId</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>folders</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>KieServices [ks=KieServices.get()]</InnerVar>
                <InnerVar>KieFileSystem [kfs=createKieFileSystem(ks,releaseId)]</InnerVar>
                <InnerVar>List&lt;String&gt; [units=new ArrayList&lt;&gt;()]</InnerVar>
                <InnerVar>KieContainer [kieContainer=createKieContainer(ks,kfs,releaseId)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>addToFileSystem</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>void</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>kfs</ParamName>
                    <ParamType>KieFileSystem</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>file</ParamName>
                    <ParamType>File</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>units</ParamName>
                    <ParamType>String</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>compileSingleSource</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>CompiledUnit</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>source</ParamName>
                    <ParamType>InputStream</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>compileSingleSource</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>CompiledUnit</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>source</ParamName>
                    <ParamType>Reader</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>CompilationUnit [compilationUnit=JavaParser.parse(source)]</InnerVar>
                <InnerVar>ClassOrInterfaceDeclaration [unitClass=(ClassOrInterfaceDeclaration)compilationUnit.getType(0)]</InnerVar>
                <InnerVar>String [pkg=compilationUnit.getPackageDeclaration().map(PackageDeclaration::getNameAsString).orElse("defaultpkg")]</InnerVar>
                <InnerVar>String [unit=unitClass.getNameAsString()]</InnerVar>
                <InnerVar>KieServices [ks=KieServices.get()]</InnerVar>
                <InnerVar>ReleaseId [releaseId=ks.newReleaseId(pkg,unit,"1.0")]</InnerVar>
                <InnerVar>KieFileSystem [kfs=createKieFileSystem(ks,releaseId)]</InnerVar>
                <InnerVar>String [unitPath=pkg.replace(".","/") + "/" + unit]</InnerVar>
                <InnerVar>String [javaPath="src/main/java/" + unitPath + ".java"]</InnerVar>
                <InnerVar>String [drlPath="src/main/resources/" + unitPath + ".drl"]</InnerVar>
                <InnerVar>KieContainer [kieContainer=createKieContainer(ks,kfs,releaseId)]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>kfs.write(drlPath,toDrl(compilationUnit));write;[javaPath, toJava(compilationUnit)]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>createKieContainer</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>KieContainer</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>ks</ParamName>
                    <ParamType>KieServices</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>kfs</ParamName>
                    <ParamType>KieFileSystem</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>releaseId</ParamName>
                    <ParamType>ReleaseId</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>KieBuilder [kieBuilder=ks.newKieBuilder(kfs).buildAll()]</InnerVar>
                <InnerVar>Results [results=kieBuilder.getResults()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>createKieFileSystem</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>KieFileSystem</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>ks</ParamName>
                    <ParamType>KieServices</ParamType>
                </Parameter>
                <Parameter>
                    <ParamName>releaseId</ParamName>
                    <ParamType>ReleaseId</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar>KieModuleModel [kproj=ks.newKieModuleModel()]</InnerVar>
                <InnerVar>KieFileSystem [kfs=ks.newKieFileSystem()]</InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke>kfs;writeKModuleXML;[kproj.toXML()]</InnerMethodInvoke>
                <InnerMethodInvoke>kfs;writePomXML;[getPom(releaseId)]</InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
        <Method>
            <MethodName>getPom</MethodName>
            <MethodComment></MethodComment>
            <ReturnType>String</ReturnType>
            <ParameterList>
                <Parameter>
                    <ParamName>releaseId</ParamName>
                    <ParamType>ReleaseId</ParamType>
                </Parameter>
            </ParameterList>
            <InnerVarList>
                <InnerVar></InnerVar>
            </InnerVarList>
            <InnerMethodInvokeList>
                <InnerMethodInvoke></InnerMethodInvoke>
            </InnerMethodInvokeList>
            <ThrowExceptionList>
                <ExceptionType></ExceptionType>
            </ThrowExceptionList>
        </Method>
    </MethodList>
</Class>