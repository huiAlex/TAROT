refactor event interfac work memori stateless state session support audit file logger work state stateless session event manag method refactor common interfac 